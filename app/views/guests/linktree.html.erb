<div class="mx-auto max-w-5xl text-center">
  <div class="py-4 px-3 text-center">
    <h1 class="font-serif inline text-5xl">link tree</h1>
  </div>

  <div class="text-2xl flex flex-col space-y-1 font-bold font-serif max-w-xs mx-auto"> 

    <% @linktree&.linktree_items&.each do |item| %>
       <button id="button" class="w-full p-2 border border-white rounded font-bold hover:bg-white hover:text-black"><%= item.title %></button>
    <% end %>

   
    <div id="settings" class="bg-white rounded hidden text-sm">
      <div class="flex text-left p-1 space-x-1">
        <label class="text-black font-sans text-lg my-auto">Title:</label>
        <input id="title" class="rounded p-2 text-black flex-grow border rounded" type="" name="" value="Spotify">
      </div>
      <div class="flex text-left p-1 space-x-1">
        <label class="text-black font-sans text-lg my-auto">URL:</label>
      <input id="url" class="p-2 rounded text-black flex-grow border rounded" type="" name="" value="https://open.spotify.com/artist/0LK9Rv7izOOzQk5nQSLAy0?si=4KV11QbmSYe8X_5vqxJnXA&nd=1"> 
      </div>
      
    </div>

    <%= form_with url: "/linktree", method: :post, class: 'hidden flex flex-col text-sm bg-white', id: 'form' do |form| %>
      <div class="flex text-left p-1 space-x-1">
        <%= form.label :title, 'Title:', class: 'text-black font-sans text-lg my-auto' %>
        <%= form.text_field :title, class: 'rounded p-2 text-black flex-grow border rounded' %>
      </div>

      <div class="flex text-left p-1 space-x-1">
        <%= form.label :url, 'URL:', class: 'text-black font-sans text-lg my-auto' %>
        <%= form.text_field :url, class: 'rounded p-2 text-black flex-grow border rounded' %>
      </div>

      <div class="p-1">
        <%= form.submit 'save', class: 'text-black px-6 py-2 border rounded' %>
      </div>
    <% end %>
      

    <button id="addlink" class="text-3xl font-bold font-serif w-10 mx-auto">+</button>

  </div>

</div>

<script type="text/javascript">
  document.getElementById('addlink').addEventListener('click', () => {
    document.getElementById('form').classList.remove('hidden')
    document.getElementById('addlink').classList.add('hidden')
  })

  document.getElementById('button').addEventListener('click', () => {
    document.getElementById('settings').classList.toggle('hidden')
  })

  document.getElementById('title').addEventListener('keyup', () => {
    document.getElementById('button').innerHTML = document.getElementById('title').value
  })

</script>
